<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Raksmey Messenger</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 h-screen flex overflow-hidden">

<!-- Sidebar -->
<div id="sidebar"
     class="fixed md:static z-20 w-72 bg-white border-r flex flex-col h-full
            transform -translate-x-full md:translate-x-0 transition-transform duration-300">

  <!-- Sidebar Header -->
  <div class="p-4 font-bold text-lg border-b flex justify-between items-center">
    Chats
    <button class="md:hidden text-gray-500" onclick="toggleSidebar()">âœ•</button>
  </div>

  <!-- Chat List -->
  <div class="flex-1 overflow-y-auto">
    <!-- Bot Chat -->
    <div class="flex items-center gap-3 p-3 hover:bg-gray-100 cursor-pointer">
      <img src="https://i.pravatar.cc/100?img=47" class="w-10 h-10 rounded-full">
      <div>
        <p class="font-semibold">Raksmey Bot</p>
        <p class="text-xs text-gray-500">Online</p>
      </div>
    </div>

    <!-- Support Chat -->
    <div class="flex items-center gap-3 p-3 hover:bg-gray-100 cursor-pointer">
      <img src="https://i.pravatar.cc/100?img=5" class="w-10 h-10 rounded-full">
      <div>
        <p class="font-semibold">Support</p>
        <p class="text-xs text-gray-500">Offline</p>
      </div>
    </div>

    <!-- Telegram Contacts -->
    <div class="mt-4 border-t pt-2">
      <p class="text-gray-400 text-xs mb-1 px-3">Contact me on Telegram:</p>

      <!-- Telegram Buttons -->
      <div class="flex items-center gap-3 p-3 bg-blue-50 hover:bg-blue-100 rounded cursor-pointer"
           onclick="openTelegram('chhunyeang')">
        <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" class="w-6 h-6 rounded-full">
        <div>
          <p class="font-semibold text-blue-600">Raksmey</p>
          <p class="text-xs text-blue-500">@chhunyeang</p>
        </div>
      </div>

      <div class="flex items-center gap-3 p-3 bg-blue-50 hover:bg-blue-100 rounded cursor-pointer"
           onclick="openTelegram('supportteam')">
        <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" class="w-6 h-6 rounded-full">
        <div>
          <p class="font-semibold text-blue-600">Support</p>
          <p class="text-xs text-blue-500">@supportteam</p>
        </div>
      </div>

      <div class="flex items-center gap-3 p-3 bg-blue-50 hover:bg-blue-100 rounded cursor-pointer"
           onclick="openTelegram('salesgroup')">
        <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" class="w-6 h-6 rounded-full">
        <div>
          <p class="font-semibold text-blue-600">Sales</p>
          <p class="text-xs text-blue-500">@salesgroup</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Overlay (mobile) -->
<div id="overlay"
     class="fixed inset-0 bg-black/40 hidden md:hidden z-10"
     onclick="toggleSidebar()"></div>

<!-- Chat Area -->
<div class="flex-1 flex flex-col bg-white relative">

  <!-- Header -->
  <div class="flex items-center gap-3 p-4 border-b">

    <!-- Hamburger -->
    <button class="md:hidden mr-2 text-xl" onclick="toggleSidebar()">â˜°</button>

    <div class="relative">
      <img src="https://i.pravatar.cc/100?img=47" class="w-10 h-10 rounded-full">
      <span class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"></span>
    </div>

    <div>
      <p class="font-semibold">Raksmey Bot</p>
      <p id="typingStatus" class="text-xs text-gray-500">Online</p>
    </div>
  </div>

  <!-- Messages -->
  <div id="messages" class="flex-1 p-4 space-y-4 overflow-y-auto text-sm">

    <div class="flex items-start gap-2">
      <img src="https://i.pravatar.cc/100?img=47" class="w-8 h-8 rounded-full">
      <div>
        <div class="bg-gray-200 px-4 py-2 rounded-2xl max-w-xs sm:max-w-sm">
          Hello ðŸ‘‹ Ask me something
        </div>
        <p class="text-xs text-gray-400 mt-1">09:00 AM</p>
      </div>
    </div>

  </div>

  <!-- Input -->
  <div class="p-3 border-t flex gap-2">
    <input id="input"
           type="text"
           placeholder="Type a message..."
           class="flex-1 px-4 py-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm">
    <button onclick="sendMessage()"
            class="bg-blue-600 text-white px-4 rounded-full">
      âž¤
    </button>
  </div>

</div>

<script>
// Toggle Sidebar for Mobile
function toggleSidebar() {
  document.getElementById("sidebar").classList.toggle("-translate-x-full");
  document.getElementById("overlay").classList.toggle("hidden");
}

// Open Telegram chat
function openTelegram(username) {
  window.open(`https://t.me/${username}`, "_blank");
}

// Q&A Bot Data
const qaData = [
  { q: "hello", a: "Hello! How can I help you?" },
  { q: "price", a: "Our service price starts from $10/month." },
  { q: "contact", a: "You can contact us at support@raksmey.com" },
  { q: "bye", a: "Goodbye ðŸ‘‹ Have a nice day!" }
];

const messages = document.getElementById("messages");
const input = document.getElementById("input");
const typingStatus = document.getElementById("typingStatus");

function getTime() {
  return new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
}

function findAnswer(text) {
  const found = qaData.find(i => text.includes(i.q));
  return found ? found.a : "Sorry, I don't understand ðŸ¤”";
}

function sendMessage() {
  const text = input.value.trim();
  if (!text) return;

  // User message
  messages.innerHTML += `
    <div class="flex justify-end gap-2">
      <div>
        <div class="bg-blue-600 text-white px-4 py-2 rounded-2xl max-w-xs sm:max-w-sm">
          ${text}
        </div>
        <p class="text-xs text-gray-400 mt-1 text-right">${getTime()} âœ“ Seen</p>
      </div>
      <img src="https://i.pravatar.cc/100?img=3" class="w-8 h-8 rounded-full">
    </div>
  `;

  input.value = "";
  scrollDown();

  // Typing indicator
  typingStatus.textContent = "Raksmey is typing...";

  setTimeout(() => {
    typingStatus.textContent = "Online";
    messages.innerHTML += `
      <div class="flex gap-2">
        <img src="https://i.pravatar.cc/100?img=47" class="w-8 h-8 rounded-full">
        <div>
          <div class="bg-gray-200 px-4 py-2 rounded-2xl max-w-xs sm:max-w-sm">
            ${findAnswer(text.toLowerCase())}
          </div>
          <p class="text-xs text-gray-400 mt-1">${getTime()}</p>
        </div>
      </div>
    `;
    scrollDown();
  }, 1200);
}

function scrollDown() {
  messages.scrollTop = messages.scrollHeight;
}

input.addEventListener("keydown", e => {
  if (e.key === "Enter") sendMessage();
});
</script>

</body>
</html>
